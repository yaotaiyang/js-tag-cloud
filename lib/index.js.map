{"version":3,"sources":["webpack://JsTagCloud/webpack/universalModuleDefinition","webpack://JsTagCloud/webpack/bootstrap","webpack://JsTagCloud/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","JsTagCloud","container","document","body","texts","options","nodeType","Error","this","$container","config","_defaultConfig","colors","radius","depth","size","maxSpeed","_getMaxSpeed","initSpeed","_getInitSpeed","direction","keep","_createElment","_init","list","push","el","$el","instance","ev","handler","cap","addEventListener","attachEvent","self","createElement","className","style","position","width","height","items","forEach","text","index","item","_createTextItem","appendChild","itemEl","top","left","zIndex","filter","opacity","color","Math","floor","random","length","willChange","transformOrigin","WebkitTransformOrigin","MozTransformOrigin","OTransformOrigin","transform","WebkitTransform","MozTransform","OTransform","transition","WebkitTransition","MozTransition","OTransition","innerText","_computePosition","textsLength","phi","acos","theta","sqrt","PI","x","cos","sin","y","z","active","mouseX0","mouseY0","mouseX","mouseY","_on","event","rect","getBoundingClientRect","clientX","clientY","_next","interval","setInterval","abs","a","min","max","b","sc","rx1","ry1","rz1","rx2","ry2","rz2","per","scale","toFixed","alpha","offsetWidth","offsetHeight","addWord","curTexts","indexOf","status","assign","splice","removeChild","findIndex","e","slow","normal","fast","els","querySelectorAll","instances"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"JsTagCloud\"] = factory();\n\telse\n\t\troot[\"JsTagCloud\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","class JsTagCloud {\n  /* 构造函数 */\n  constructor(container = document.body, texts, options) {\n    const self = this\n    if (!container || container.nodeType !== 1) {\n      return new Error('Incorrect element type')\n    }\n\n    // 处理参数\n    self.$container = container\n    self.texts = texts || []\n    self.config = { ...JsTagCloud._defaultConfig, ...(options || {}) }\n    self.colors = self.config.colors || ['#47A1FF', '#59CB74', '#FBD54A', '#FFB952', '#FC6980', '#9F8CF1', '#6367EC', '#ADDF84', '#6CD3FF', '#ED8CCE', '#659AEC', '#A2E5FF', '#84E0BE', '#4DCCCB', '#5982F6', '#E37474', '#F79452', '#DA65CC', '#9861E5', '#3FDDC7']\n    // 计算配置\n    self.radius = self.config.radius // 滚动半径\n    self.depth = 2 * self.radius // 滚动深度\n    self.size = 1.5 * self.radius // 随鼠标滚动变速作用区域\n    self.maxSpeed = JsTagCloud._getMaxSpeed(self.config.maxSpeed) // 滚动最大速度倍数\n    self.initSpeed = JsTagCloud._getInitSpeed(self.config.initSpeed) // 滚动初速度\n    self.direction = self.config.direction // 初始滚动方向\n    self.keep = self.config.keep // 鼠标移出后是否保持之前滚动\n\n    // 创建元素\n    self._createElment()\n    // 初始化\n    self._init()\n    // 设置元素及实例\n    JsTagCloud.list.push({ el: self.$el, container, instance: self })\n  }\n\n  /* 静态属性方法 */\n  // 所有 JsTagCloud 的个数\n  static list = []\n\n  // 默认配置\n  static _defaultConfig = {\n    radius: 100, // 滚动半径, 单位px\n    maxSpeed: 'normal', // 滚动最大速度, 取值: slow, normal(默认), fast\n    initSpeed: 'normal', // 滚动初速度, 取值: slow, normal(默认), fast\n    direction: 135, // 初始滚动方向, 取值角度(顺时针deg): 0 对应 top, 90 对应 left, 135 对应 right-bottom(默认)...\n    keep: false // 鼠标移出组件后是否继续随鼠标滚动, 取值: false, true(默认) 对应 减速至初速度滚动, 随鼠标滚动\n  }\n\n  // 速度对应的数值\n  static _getMaxSpeed = name => ({ slow: 5, normal: 10, fast: 20 }[name] || 10)\n\n  static _getInitSpeed = name => ({ slow: 20, normal: 40, fast: 80 }[name] || 50)\n\n  // 事件监听\n  static _on(el, ev, handler, cap) {\n    if (el.addEventListener) {\n      el.addEventListener(ev, handler, cap)\n    } else if (el.attachEvent) {\n      el.attachEvent(`on${ev}`, handler)\n    } else {\n      el[`on${ev}`] = handler\n    }\n  }\n\n  /* 实例属性方法 */\n  // 创建元素\n  _createElment() {\n    const self = this\n\n    // 创建容器元素\n    const $el = document.createElement('div')\n    $el.className = 'JsTagCloud'\n    $el.style.position = 'relative'\n    $el.style.width = `${2 * self.radius}px`\n    $el.style.height = `${2 * self.radius}px`\n\n    // 创建文本元素\n    self.items = []\n    self.texts.forEach((text, index) => {\n      const item = self._createTextItem(text, index)\n      $el.appendChild(item.el)\n      self.items.push(item)\n    })\n    self.$container.appendChild($el)\n    self.$el = $el\n  }\n\n  // 创建单个文本项\n  _createTextItem(text, index = 0) {\n    const self = this\n    const itemEl = document.createElement('span')\n    itemEl.className = 'js-tag-cloud-item'\n    itemEl.style.position = 'absolute'\n    itemEl.style.top = '50%'\n    itemEl.style.left = '50%'\n    itemEl.style.zIndex = index + 1\n    itemEl.style.filter = 'alpha(opacity=0)'\n    itemEl.style.opacity = 0\n    itemEl.style.color = self.colors[Math.floor(Math.random() * self.colors.length)]\n    itemEl.style.willChange = 'transform, opacity, filter'\n    const transformOrigin = '50% 50%'\n    itemEl.style.WebkitTransformOrigin = transformOrigin\n    itemEl.style.MozTransformOrigin = transformOrigin\n    itemEl.style.OTransformOrigin = transformOrigin\n    itemEl.style.transformOrigin = transformOrigin\n    const transform = 'translateX(-50%) translateY(-50%) scale(1)'\n    itemEl.style.WebkitTransform = transform\n    itemEl.style.MozTransform = transform\n    itemEl.style.OTransform = transform\n    itemEl.style.transform = transform\n    const transition = 'all .1s'\n    itemEl.style.WebkitTransition = transition\n    itemEl.style.MozTransition = transition\n    itemEl.style.OTransition = transition\n    itemEl.style.transition = transition\n    itemEl.innerText = text\n    return {\n      el: itemEl,\n      text: text,\n      ...self._computePosition(index) // 分布在合适的位置\n    }\n  }\n\n  // 计算位置\n  _computePosition(index, random = false) {\n    const self = this\n    const textsLength = self.texts.length\n    // random 为 true, 则表示生成随机的合适位置, 位置将 index 无关\n    if (random) index = Math.floor(Math.random() * (textsLength + 1))\n    const phi = Math.acos(-1 + (2 * index + 1) / textsLength)\n    const theta = Math.sqrt((textsLength + 1) * Math.PI) * phi\n    return {\n      x: (self.size * Math.cos(theta) * Math.sin(phi)) / 2,\n      y: (self.size * Math.sin(theta) * Math.sin(phi)) / 2,\n      z: (self.size * Math.cos(phi)) / 2\n    }\n  }\n\n  // 初始化\n  _init() {\n    const self = this\n\n    self.active = false // 是否为鼠标激活态\n\n    self.mouseX0 = self.initSpeed * Math.sin(self.direction * (Math.PI / 180)) // 鼠标与滚动圆心x轴初始距离\n    self.mouseY0 = -self.initSpeed * Math.cos(self.direction * (Math.PI / 180)) // 鼠标与滚动圆心y轴初始距离\n\n    self.mouseX = self.mouseX0 // 鼠标与滚动圆心x轴距离\n    self.mouseY = self.mouseY0 // 鼠标与滚动圆心y轴距离\n\n    // 鼠标移入\n    JsTagCloud._on(self.$el, 'mouseover', () => {\n      self.active = true\n    })\n    // 鼠标移出\n    JsTagCloud._on(self.$el, 'mouseout', () => {\n      self.active = false\n    })\n    // 鼠标在内移动\n    JsTagCloud._on(self.keep ? window : self.$el, 'mousemove', ev => {\n      ev = ev || window.event\n      const rect = self.$el.getBoundingClientRect()\n      self.mouseX = (ev.clientX - (rect.left + rect.width / 2)) / 5\n      self.mouseY = (ev.clientY - (rect.top + rect.height / 2)) / 5\n    })\n\n    // 定时更新状态\n    self._next() // 初始更新状态\n    self.interval = setInterval(() => {\n      self._next.bind(self)()\n    }, 100)\n  }\n\n  // 运算下一个状态\n  _next() {\n    const self = this\n\n    // keep 为 false 时, 鼠标移出组件后暂停滚动\n    if (!self.keep && !self.active) {\n      self.mouseX = Math.abs(self.mouseX - self.mouseX0) < 1 ? self.mouseX0 : (self.mouseX + self.mouseX0) / 2 // 重置鼠标与滚动圆心x轴距离\n      self.mouseY = Math.abs(self.mouseY - self.mouseY0) < 1 ? self.mouseY0 : (self.mouseY + self.mouseY0) / 2 // 重置鼠标与滚动圆心y轴距离\n    }\n\n    const a = -(Math.min(Math.max(-self.mouseY, -self.size), self.size) / self.radius) * self.maxSpeed\n    const b = (Math.min(Math.max(-self.mouseX, -self.size), self.size) / self.radius) * self.maxSpeed\n\n    if (Math.abs(a) <= 0.01 && Math.abs(b) <= 0.01) return // 停止\n\n    // 计算偏移量\n    const l = Math.PI / 180\n    const sc = [Math.sin(a * l), Math.cos(a * l), Math.sin(b * l), Math.cos(b * l)]\n\n    self.items.forEach(item => {\n      const rx1 = item.x\n      const ry1 = item.y * sc[1] + item.z * -sc[0]\n      const rz1 = item.y * sc[0] + item.z * sc[1]\n\n      const rx2 = rx1 * sc[3] + rz1 * sc[2]\n      const ry2 = ry1\n      const rz2 = rz1 * sc[3] - rx1 * sc[2]\n\n      const per = (2 * self.depth) / (2 * self.depth + rz2) // todo\n\n      item.x = rx2\n      item.y = ry2\n      item.z = rz2\n      item.scale = per.toFixed(3)\n      let alpha = per * per - 0.25\n      alpha = (alpha > 1 ? 1 : alpha).toFixed(3)\n\n      const itemEl = item.el\n      const left = (item.x - itemEl.offsetWidth / 2).toFixed(2)\n      const top = (item.y - itemEl.offsetHeight / 2).toFixed(2)\n      const transform = `translateX(${left}px) translateY(${top}px) scale(${item.scale})`\n      itemEl.style.WebkitTransform = transform\n      itemEl.style.MozTransform = transform\n      itemEl.style.OTransform = transform\n      itemEl.style.transform = transform\n      itemEl.style.filter = `alpha(opacity=${100 * alpha})`\n      itemEl.style.opacity = alpha\n    })\n  }\n\n  /* 暴露的实例属性与方法 */\n  // 更新\n  update(texts) {\n    const self = this\n    // 处理参数\n    self.texts = texts || []\n    // 根据 texts 判断并处理 items\n    let addWord = []\n    let curTexts = []\n    self.items.forEach(item => {\n      let atInd = texts.indexOf(item.text)\n      if (atInd === -1) {\n        item.status = 'remove'\n      }\n      curTexts.push(item.text)\n    })\n    texts.forEach(text => {\n      let atInd = curTexts.indexOf(text)\n      if (atInd === -1) {\n        addWord.push(text)\n      }\n    })\n    addWord.forEach(text => {\n      // add some tags\n      let index = self.items.length + 1\n      let item = self._createTextItem(text, index)\n      Object.assign(item, self._computePosition(index, true)) // 随机位置\n      self.$el.appendChild(item.el)\n      self.items.push(item)\n    })\n    for (let i = 0; i < self.items.length; i++) {\n      let item = self.items[i]\n      if (item.status === 'remove') {\n        self.items.splice(i, 1)\n        self.$el.removeChild(item.el)\n        i--\n      }\n    }\n  }\n\n  // 摧毁\n  destroy() {\n    const self = this\n    self.interval = null\n    // 在 JsTagCloud.list 中清除\n    const index = JsTagCloud.list.findIndex(e => e.el === self.$el)\n    if (index !== -1) JsTagCloud.list.splice(index, 1)\n    // 清理元素\n    if (self.$container && self.$el) {\n      self.$container.removeChild(self.$el)\n    }\n  }\n}\n\nexport default (els, texts, options) => {\n  if (typeof els === 'string') els = document.querySelectorAll(els)\n  if (!els.forEach) els = [els]\n  const instances = []\n  els.forEach(el => {\n    if (el) {\n      instances.push(new JsTagCloud(el, texts, options))\n    }\n  })\n  return instances.length <= 1 ? instances[0] : instances\n}\n"],"sourceRoot":""}